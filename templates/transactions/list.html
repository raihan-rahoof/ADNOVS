{% extends 'base.html' %}

{% block content %}
  <h1 class="text-2xl font-bold mb-6">Transactions</h1>

  <!-- Button to navigate to the create page -->
  <div class="mb-6">
    <a href="{% url 'transaction_create' %}" class="bg-blue-500 text-white py-2 px-4 rounded-lg hover:bg-blue-700">
      Create Transaction
    </a>
  </div>

  <div class="bg-white shadow-md rounded-lg overflow-hidden">
    <table class="w-full table-auto border-collapse">
      <thead>
        <tr class="bg-gray-100 text-gray-600 uppercase text-sm leading-normal">
          <th class="py-3 px-6 text-left">Code</th>
          <th class="py-3 px-6 text-left">Name</th>
          <th class="py-3 px-6 text-left">Account Type</th>
          <th class="py-3 px-6 text-left">Sub Account</th>
          <th class="py-3 px-6 text-left">Action</th>
          <th class="py-3 px-6 text-left">Description</th>
          <th class="py-3 px-6 text-left">Remarks</th>
          <th class="py-3 px-6 text-left">Actions</th>
        </tr>
      </thead>
      <tbody class="text-gray-700 text-sm font-light">
        {% for transaction in transactions %}
        <tr class="border-b border-gray-200 hover:bg-gray-100">
          <td class="py-3 px-6">{{ transaction.code }}</td>
          <td class="py-3 px-6">{{ transaction.name }}</td>
          <td class="py-3 px-6">{{ transaction.account_type.name }}</td>
          <td class="py-3 px-6">{{ transaction.sub_account.name }}</td>
          <td class="py-3 px-6">{{ transaction.action }}</td>
          <td class="py-3 px-6">{{ transaction.description }}</td>
          <td class="py-3 px-6">{{ transaction.remarks }}</td>
          <td class="py-3 px-6">
            <a href="{% url 'transaction_edit' transaction.id %}" class="text-blue-600 hover:text-blue-800">Edit</a> |
            <a href="{% url 'transaction_delete' transaction.id %}" class="text-red-600 hover:text-red-800" onclick="return confirm('Are you sure you want to delete this transaction?');">Delete</a>
          </td>
        </tr>
        {% endfor %}
      </tbody>
    </table>
  </div>
{% endblock %}
